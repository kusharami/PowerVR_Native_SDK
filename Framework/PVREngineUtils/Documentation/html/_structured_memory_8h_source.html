<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PVREngineUtils: /usr/buildxl/buildroot/sdk/branch/Framework/PVREngineUtils/StructuredMemory.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="IMGdoxygen.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="http://www.imgtec.com/images/img.ico">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
  <div class="headercontent">
    <div class="PVRlogo">
      <a href="http://www.powervrinsider.com" target="_blank"><img src="PVRlogo.png" width="40%" height="40%"  border="none" /></a>
    </div>
    <a class="SiteTitle"><span id="projectname">PVREngineUtils</span> Documentation</a>
   <tbody>
  </div>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bcbb2cf9a3d3d83e5515c82071a07177.html">Framework</a></li><li class="navelem"><a class="el" href="dir_bd63417c2c98a57e620fdb6c4204bdd4.html">PVREngineUtils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">StructuredMemory.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_structured_memory_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &quot;PVRApi/ApiIncludes.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;PVRApi/ApiObjects/Buffer.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">namespace </span>pvr {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">namespace </span>utils {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">class </span>StructuredMemoryTableEntry</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    StringHash _name;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    types::GpuDatatypes::Enum _type;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    uint32 _arrayElementCount;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    uint32 _offset;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">struct </span>IsEqual</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keyword">const</span> StringHash&amp; _hash;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        IsEqual(<span class="keyword">const</span> StringHash&amp; name) : _hash(name) {}</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> StructuredMemoryTableEntry&amp; rhs)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _hash == rhs._name; }</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    };</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordtype">bool</span> operator&lt;(<span class="keyword">const</span> StructuredMemoryTableEntry&amp; rhs)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _offset &lt; rhs._offset; }</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> StructuredMemoryTableEntry&amp; rhs)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _offset == rhs._offset; }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    StringHash getName() { <span class="keywordflow">return</span> _name; }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keyword">const</span> StringHash getName()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _name; }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    types::GpuDatatypes::Enum getType() { <span class="keywordflow">return</span> _type; }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">const</span> types::GpuDatatypes::Enum getType()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _type; }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    uint32 getArrayElementCount() { <span class="keywordflow">return</span> _arrayElementCount; }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">const</span> uint32 getArrayElementCount()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _arrayElementCount; }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    uint32 getOffset() { <span class="keywordflow">return</span> _offset; }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">const</span> uint32 getOffset()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _offset; }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    StructuredMemoryTableEntry(StringHash entryName, uint32 offset, types::GpuDatatypes::Enum entryType, uint32 arrayElementCount) :</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        _name(entryName), _offset(offset), _type(entryType), _arrayElementCount(arrayElementCount)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;};</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html">   68</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html">StructuredBufferView</a></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    std::vector&lt;StructuredMemoryTableEntry&gt; _entries;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    Multi&lt;api::BufferView&gt; _connectedBuffers;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    types::BufferBindingUse _bufferBindingUse;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">void</span>* _aliasedMemory;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    uint32 _connectedBufferDefaultOffset;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    uint32 _baseSelfAlignedSize;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    uint32 _baseUnalignedSize;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    uint32 _elementCount;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    uint32 _minUboDynamicAlignment;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    uint32 _minSsboDynamicAlignment;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">bool</span> _finalized;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    types::MapBufferFlags _connectedBufferDefaultFlags;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    uint32 calculateBufferDynamicAlignment(types::BufferBindingUse bufferAllowedUses)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        uint32 minDynamicAlignment = 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (static_cast&lt;pvr::uint32&gt;(bufferAllowedUses &amp; types::BufferBindingUse::UniformBuffer) != 0 &amp;&amp; _minUboDynamicAlignment)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            minDynamicAlignment += _minUboDynamicAlignment;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">if</span> (static_cast&lt;pvr::uint32&gt;(bufferAllowedUses &amp; types::BufferBindingUse::StorageBuffer) != 0 &amp;&amp; _minSsboDynamicAlignment)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            minDynamicAlignment += _minSsboDynamicAlignment;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span> minDynamicAlignment;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">void</span> calculateStructureSizes(uint32 minDynamicAlignment)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        StructuredMemoryTableEntry&amp; front = _entries.front();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        StructuredMemoryTableEntry&amp; back = _entries.back();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        _baseUnalignedSize = (_entries.size() ? types::GpuDatatypes::getTotalSizeAfter(back.getType(), back.getArrayElementCount(), back.getOffset()) : 0);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="comment">//The offset of the first element is the size that the whole structure takes.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        _baseSelfAlignedSize = (_entries.size() ? types::GpuDatatypes::getOffsetAfter(front.getType(), _baseUnalignedSize) : 0);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (minDynamicAlignment)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            uint32 align1 = 0;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            align1 = _baseSelfAlignedSize % minDynamicAlignment;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">if</span> (!align1) { align1 += minDynamicAlignment; }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            _baseSelfAlignedSize += (minDynamicAlignment - align1);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">  118</a></span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>() :</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        _aliasedMemory(0), _connectedBufferDefaultOffset(0), _baseSelfAlignedSize(0), _baseUnalignedSize(0),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        _elementCount(0), _minUboDynamicAlignment(0), _minSsboDynamicAlignment(0), _connectedBufferDefaultFlags(types::MapBufferFlags::Write), _finalized(false)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a838a2001625761e79678cece0342b1f2">  126</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a838a2001625761e79678cece0342b1f2">isMultiBuffered</a>() { <span class="keywordflow">return</span> _connectedBuffers.size() &gt; 1; }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ace48180ff8c81e7732ddcd4b0ba3a40d">  130</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ace48180ff8c81e7732ddcd4b0ba3a40d">setMultibufferCount</a>(uint32 size)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        assertion(!<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must not be finalized.&quot;</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        assertion(size &gt; 0);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        _connectedBuffers.resize(size);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a9cf966c08e1e94a3059c23564a577034">  139</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a9cf966c08e1e94a3059c23564a577034">getMultibufferCount</a>() { <span class="keywordflow">return</span> (uint32)_connectedBuffers.size(); }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ae813fb480f1f4e5ed693f3a5ec09fe4c">  145</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ae813fb480f1f4e5ed693f3a5ec09fe4c">getUnalignedElementSize</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">return</span> _baseUnalignedSize;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">  156</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> _baseSelfAlignedSize;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#abea7c4481bf9ea2993b88638d13c5dfb">  164</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#abea7c4481bf9ea2993b88638d13c5dfb">getAlignedElementArrayOffset</a>(uint32 index)<span class="keyword"> const</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>() * index;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a93aad09db99e4e54536e155116be6c88">  171</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a93aad09db99e4e54536e155116be6c88">getAlignedTotalSize</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">return</span> _baseSelfAlignedSize * _elementCount;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a4d9b79e866befe84eb04e16a6eb21d75">  178</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a4d9b79e866befe84eb04e16a6eb21d75">getElementCount</a>()<span class="keyword">const </span>{ <span class="keywordflow">return</span> _elementCount; }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#define DEFINE_SETVALUE_FOR_TYPE(ParamType)\</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">    </span><span class="comment">/*!*******************************************************************************************************************************\</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">    \fn StructuredBufferView&amp; setValue(const StringHash&amp; name, const ParamType&amp; value, uint32 entryArrayIndex = 0)</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">    \brief Set the value to the entry by name. Buffer must be mapped.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    \param name The name of the entry to set.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">    \param value The value. Overloads for all supported types (as defined in pvr::types::GpuDatatypes) exist.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">    \param entryArrayIndex If the value is an array, which index to set</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    \return this (allow chaining)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    **********************************************************************************************************************************/</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">    StructuredBufferView&amp; setValue(const StringHash&amp; name, const ParamType&amp; value, uint32 entryArrayIndex = 0)\</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">    {\</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">        return setValue(getIndex(name), value, entryArrayIndex);\</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">    }\</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">  \</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">    </span><span class="comment">/*!*******************************************************************************************************************************\</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">    \fn StructuredBufferView&amp; setValue(uint32 variableIndex, const ParamType&amp; value, uint32 entryArrayIndex = 0)</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    \brief Set the value to the entry by index. Buffer must be mapped.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    \param variableIndex The index of the entry (its order in the buffer).</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">    \param value The value. Overloads for all supported types (as defined in pvr::types::GpuDatatypes) exist.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">    \param entryArrayIndex If the variable entry is an array, which index to set. Default 0.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">    \return this (allow chaining)</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    **********************************************************************************************************************************/</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">    StructuredBufferView&amp; setValue(uint32 variableIndex, const ParamType&amp; value, uint32 entryArrayIndex = 0)\</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">    {\</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">        return setArrayValue(variableIndex, 0, value, entryArrayIndex);\</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">    }\</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">    </span><span class="comment">/*!*******************************************************************************************************************************\</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">    \fn StructuredBufferView&amp; setArrayValue(const StringHash&amp; name, const ParamType&amp; value, uint32 entryArrayIndex = 0)</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    \brief Set the value of an entry for a dynamic or array buffer, by entry name. Buffer must be mapped.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">    \param name The name of the entry to set.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">    \param arrayIndex The dynamic or array index of the &#39;slice&#39; of the buffer to set to.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">    \param value The value. Overloads for all supported types (as defined in pvr::types::GpuDatatypes) exist.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">    \param entryArrayIndex If the variable entry is an array, which index to set. Default 0.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">    \return this (allow chaining)</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">    **********************************************************************************************************************************/</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">    StructuredBufferView&amp; setArrayValue(const StringHash&amp; name, uint32 arrayIndex, const ParamType&amp; value, uint32 entryArrayIndex = 0)\</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">    {\</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">        return setArrayValue(getIndex(name), arrayIndex, value, entryArrayIndex); return *this;\</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">    }\</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">    \</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="preprocessor">    </span><span class="comment">/*!*******************************************************************************************************************************\</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">    \fn StructuredBufferView&amp; setArrayValue(uint32 variableIndex, const ParamType&amp; value, uint32 entryArrayIndex = 0)</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">    \brief Set the value of an entry for a dynamic or array buffer, by entry index. Buffer must be mapped.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">    \param variableIndex The index of the entry (its order in the buffer).</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">    \param arrayIndex The dynamic or array index of the &#39;slice&#39; of the buffer to set to.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">    \param value The value. Overloads for all supported types (as defined in pvr::types::GpuDatatypes) exist.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    \param entryArrayIndex If the variable entry is an array, which index to set. Default 0.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    \return this (allow chaining)</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    **********************************************************************************************************************************/</span><span class="preprocessor">\</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">    StructuredBufferView&amp; setArrayValue(uint32 index, uint32 arrayIndex, const ParamType&amp; value, uint32 entryArrayIndex = 0)\</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">    {\</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">        uint32 myoffset = getOffset(index, entryArrayIndex); \</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">        uint32 arrayOffset = arrayIndex * getAlignedElementSize(); \</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">        \</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">        memcpy((char*)_aliasedMemory + myoffset + arrayOffset, (const void*)&amp;value, sizeof(value)); \</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">        return *this; \</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(float32)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(int32)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(float64)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(int64)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::vec2)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::vec3)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::vec4)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::ivec2)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::ivec3)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::ivec4)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::mat2x2)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::mat2x4)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::mat3x2)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::mat3x4)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::mat4x2)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    DEFINE_SETVALUE_FOR_TYPE(glm::mat4x4)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="preprocessor">#undef DEFINE_SETVALUE_FOR_TYPE</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html">StructuredBufferView</a>&amp; setValue(<span class="keyword">const</span> StringHash&amp; name, <span class="keyword">const</span> glm::mat2x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> setValue(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">getIndex</a>(name), value, entryArrayIndex);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setValue(<span class="keyword">const</span> StringHash&amp; name, <span class="keyword">const</span> glm::mat3x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> setValue(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">getIndex</a>(name), value, entryArrayIndex);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setValue(<span class="keyword">const</span> StringHash&amp; name, <span class="keyword">const</span> glm::mat4x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">return</span> setValue(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">getIndex</a>(name), value, entryArrayIndex);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setValue(uint32 variableIndex, <span class="keyword">const</span> glm::mat2x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> setArrayValue(variableIndex, 0, value, entryArrayIndex);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setValue(uint32 variableIndex, <span class="keyword">const</span> glm::mat3x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> setArrayValue(variableIndex, 0, value, entryArrayIndex);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setValue(uint32 variableIndex, <span class="keyword">const</span> glm::mat4x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">return</span> setArrayValue(variableIndex, 0, value, entryArrayIndex);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setValue(uint32 variableIndex, <span class="keyword">const</span> FreeValue&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span> setArrayValue(variableIndex, 0, value, entryArrayIndex);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setArrayValue(uint32 index, uint32 arrayIndex, <span class="keyword">const</span> glm::mat2x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        uint32 myoffset = <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(index, entryArrayIndex);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        uint32 arrayOffset = arrayIndex * <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        glm::mat2x4 newvalue(value);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)&amp;newvalue, <span class="keyword">sizeof</span>(newvalue));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setArrayValue(uint32 index, uint32 arrayIndex, <span class="keyword">const</span> glm::mat3x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        uint32 myoffset = <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(index, entryArrayIndex);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        uint32 arrayOffset = arrayIndex * <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        glm::mat3x4 newvalue(value);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)&amp;newvalue, <span class="keyword">sizeof</span>(newvalue));</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setArrayValue(uint32 index, uint32 arrayIndex, <span class="keyword">const</span> glm::mat4x3&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        uint32 myoffset = <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(index, entryArrayIndex);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        uint32 arrayOffset = arrayIndex * <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        glm::mat4x4 newvalue(value);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)&amp;newvalue, <span class="keyword">sizeof</span>(newvalue));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setArrayValue(uint32 index, uint32 arrayIndex, <span class="keyword">const</span> FreeValue&amp; value, uint32 entryArrayIndex = 0)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        uint32 myoffset = <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(index, entryArrayIndex);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        uint32 arrayOffset = arrayIndex * <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        debug_assertion(_entries[index].getType() == value.dataType() || value.dataType() == types::GpuDatatypes::mat3x3, <span class="stringliteral">&quot;StructuredBufferView: Mismatched FreeValue datatype&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">if</span> (value.dataType() == types::GpuDatatypes::mat3x3)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            glm::mat3x4 tmp(value.interpretValueAs&lt;glm::mat3x3&gt;());</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, &amp;tmp[0][0], types::GpuDatatypes::getSize(_entries[index].getType()));</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, value.raw(), types::GpuDatatypes::getSize(_entries[index].getType()));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setArrayValue(uint32 index, uint32 arrayIndex, <span class="keyword">const</span> TypedMem&amp; value)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        uint32 myoffset = <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(index);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        uint32 arrayOffset = arrayIndex * <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        uint32 dataTypeOffset = types::GpuDatatypes::getSelfAlignedArraySize(value.dataType());</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        debug_assertion(_entries[index].getType() == value.dataType() || value.dataType() == types::GpuDatatypes::mat3x3, <span class="stringliteral">&quot;StructuredBufferView: Mismatched FreeValue datatype&quot;</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        assertion(value.arrayElements() == _entries[index].getArrayElementCount());</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">for</span> (uint32 i = 0; i &lt; value.arrayElements(); ++i)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">if</span> (value.dataType() == types::GpuDatatypes::mat3x3)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                glm::mat3x4 tmp(value.interpretValueAs&lt;glm::mat3x3&gt;(i));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, &amp;tmp[0][0], types::GpuDatatypes::getSize(_entries[index].getType()));</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, value.raw(i), types::GpuDatatypes::getSize(_entries[index].getType()));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            myoffset += dataTypeOffset;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">StructuredBufferView</a>&amp; setArrayValue(uint32 index, uint32 arrayIndex, <span class="keyword">const</span> TypedMem&amp; value_as_single_value, uint32 entryArrayIndex)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        uint32 myoffset = <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(index, entryArrayIndex);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        uint32 arrayOffset = arrayIndex * <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        debug_assertion(_entries[index].getType() == value_as_single_value.dataType() || value_as_single_value.dataType() == types::GpuDatatypes::mat3x3, <span class="stringliteral">&quot;StructuredBufferView: Mismatched FreeValue datatype&quot;</span>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> (value_as_single_value.dataType() == types::GpuDatatypes::mat3x3)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            glm::mat3x4 tmp(value_as_single_value.interpretValueAs&lt;glm::mat3x3&gt;(entryArrayIndex));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, &amp;tmp[0][0], types::GpuDatatypes::getSize(_entries[index].getType()));</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            memcpy((<span class="keywordtype">char</span>*)_aliasedMemory + myoffset + arrayOffset, value_as_single_value.raw(entryArrayIndex), types::GpuDatatypes::getSize(_entries[index].getType()));</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aaf37e669f0ac851df24b242821b7c9e5">  379</a></span>&#160;    <span class="keyword">const</span> std::vector&lt;StructuredMemoryTableEntry&gt;&amp; <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aaf37e669f0ac851df24b242821b7c9e5">getVariableList</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _entries; }</div>
<div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2d080cf787a9e0fdad78e5e35bfd463b">  382</a></span>&#160;    std::vector&lt;StructuredMemoryTableEntry&gt;&amp; <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2d080cf787a9e0fdad78e5e35bfd463b">getVariableList</a>() { <span class="keywordflow">return</span> _entries; }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2c1f4f9d4fa99051d61fc680340b95a6">  393</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2c1f4f9d4fa99051d61fc680340b95a6">addEntryAtOffset</a>(<span class="keyword">const</span> StringHash&amp; name, types::GpuDatatypes::Enum type, uint32 offset, uint32 arrayElements = 1)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        assertion(!<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must not be finalized.&quot;</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        assertion(_connectedBuffers[0].isNull(), <span class="stringliteral">&quot;StructuredBufferView: Attempting to add entries to the object, but buffers have &quot;</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                  <span class="stringliteral">&quot;already been connected. This is invalid, because it would cause future connected buffers to have the wrong sizes.&quot;</span>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        StructuredMemoryTableEntry entry(name, offset, type, arrayElements);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        uint32 entryOffset = (uint32)insertSorted(_entries, entry);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        calculateStructureSizes(0);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">return</span> entryOffset;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keyword">template</span>&lt;types::GpuDatatypes::Standard _standard_ = types::GpuDatatypes::Standard::std140&gt;</div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a98d84adbb33049a165ad4139f59cc776">  414</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a98d84adbb33049a165ad4139f59cc776">addEntryPacked</a>(<span class="keyword">const</span> StringHash&amp; name, types::GpuDatatypes::Enum type, uint32 arrayElements = 1)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        assertion(!<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must not be finalized.&quot;</span>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2c1f4f9d4fa99051d61fc680340b95a6">addEntryAtOffset</a>(name, type, types::GpuDatatypes::getOffsetAfter(type, <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ae813fb480f1f4e5ed693f3a5ec09fe4c">getUnalignedElementSize</a>()), arrayElements);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keyword">template</span>&lt;types::GpuDatatypes::Standard _standard_ = types::GpuDatatypes::Standard::std140&gt;</div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#afff6421d697e929a0c6ae66b45c84873">  427</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#afff6421d697e929a0c6ae66b45c84873">addEntriesPacked</a>(<span class="keyword">const</span> std::pair&lt;StringHash, types::GpuDatatypes::Enum&gt;* <span class="keyword">const</span> entries, pvr::uint32 numEntries)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">for</span> (pvr::uint32 i = 0; i &lt; numEntries; ++i) { <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a98d84adbb33049a165ad4139f59cc776">addEntryPacked</a>(entries[i].first, entries[i].second, 1); }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">  437</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(<span class="keyword">const</span> StringHash&amp; name, uint32 entryArrayIndex = 0)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">getIndex</a>(name), entryArrayIndex); }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a26f87d9a136bf85335cc9140f2baa83b">  444</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a26f87d9a136bf85335cc9140f2baa83b">getOffset</a>(uint32 variableIndex, uint32 entryArrayIndex = 0)<span class="keyword"> const</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">return</span> _entries[variableIndex].getOffset() + types::GpuDatatypes::getSelfAlignedArraySize(_entries[variableIndex].getType()) * entryArrayIndex;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aeba1fbd6b8e7286d1006cd3f2813a5e4">  457</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aeba1fbd6b8e7286d1006cd3f2813a5e4">getDynamicOffset</a>(<span class="keyword">const</span> StringHash&amp; variableName, uint32 dynamicIndex, uint32 entryArrayIndex = 0)<span class="keyword"> const</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aeba1fbd6b8e7286d1006cd3f2813a5e4">getDynamicOffset</a>(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">getIndex</a>(variableName), dynamicIndex, entryArrayIndex);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0cea9f58b393a6a8716a0910cb9228cb">  470</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0cea9f58b393a6a8716a0910cb9228cb">getDynamicOffset</a>(uint32 variableIndex, uint32 dynamicIndex, uint32 entryArrayIndex = 0)<span class="keyword"> const</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">getOffset</a>(variableIndex, entryArrayIndex) + <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>() * dynamicIndex;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">  478</a></span>&#160;    uint32 <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">getIndex</a>(<span class="keyword">const</span> StringHash&amp; name)<span class="keyword"> const</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keyword">auto</span> entry = std::find_if(_entries.begin(), _entries.end(), StructuredMemoryTableEntry::IsEqual(name));</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        assertion(entry != _entries.end());</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">return</span> uint32(entry - _entries.begin());</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a556d1602aba1f17b1807dfaa34f43790">  489</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a556d1602aba1f17b1807dfaa34f43790">pointToMemory</a>(<span class="keywordtype">void</span>* memoryToPointTo) { _aliasedMemory = memoryToPointTo; }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> validateBufferUsage(types::BufferBindingUse bufferBindingUse)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">// the buffer binding uses for buffer must exist within the set of buffer uses specified at finalize time</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">// check whether buffer includes uses the structured memory view does not</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        assertion(((~static_cast&lt;pvr::uint32&gt;(_bufferBindingUse)) &amp; static_cast&lt;pvr::uint32&gt;(bufferBindingUse)) == 0,</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                  <span class="stringliteral">&quot;Buffer usage must be compatible with structured memory view.&quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a8943b677ab04c5e7de6768bb206afcab">  510</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a8943b677ab04c5e7de6768bb206afcab">connectWithBuffer</a>(uint32 swapIdx, <span class="keyword">const</span> api::BufferView&amp; buffer, types::MapBufferFlags mapDefaultFlags = types::MapBufferFlags::Write, uint32 mapDefaultOffset = 0)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">if</span> (buffer-&gt;getResource()-&gt;getBufferUsage() != _bufferBindingUse)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            validateBufferUsage(buffer-&gt;getResource()-&gt;getBufferUsage());</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            calculateStructureSizes(calculateBufferDynamicAlignment(buffer-&gt;getResource()-&gt;getBufferUsage()));</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        _connectedBuffers[swapIdx] = buffer;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        _connectedBufferDefaultFlags = mapDefaultFlags;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        _connectedBufferDefaultOffset = mapDefaultOffset;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        debug_assertion(buffer-&gt;getRange() &gt;= _baseUnalignedSize, <span class="stringliteral">&quot;Buffer to connect is too small&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a95d7d484c504388d8bbf6fde1b1fe900">  532</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a95d7d484c504388d8bbf6fde1b1fe900">createConnectedBuffers</a>(uint32 numberOfSwapIdxs, GraphicsContext&amp; ctx, types::MapBufferFlags mapDefaultFlags = types::MapBufferFlags::Write)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a95d7d484c504388d8bbf6fde1b1fe900">createConnectedBuffers</a>(numberOfSwapIdxs, ctx, _bufferBindingUse, mapDefaultFlags);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#abd8bb23c7be7bc35fe6a1677d49aaaf6">  546</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#abd8bb23c7be7bc35fe6a1677d49aaaf6">createConnectedBuffers</a>(uint32 numberOfSwapIdxs, GraphicsContext&amp; ctx, types::BufferBindingUse bufferAllowedUses,</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                                types::MapBufferFlags mapDefaultFlags = types::MapBufferFlags::Write)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        _connectedBufferDefaultFlags = mapDefaultFlags;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        _connectedBufferDefaultOffset = 0;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">for</span> (uint32 i = 0; i &lt; numberOfSwapIdxs; ++i)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a1994b1320175a2087aa387c0bcb7ed79">createConnectedBuffer</a>(i, ctx, mapDefaultFlags);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a1994b1320175a2087aa387c0bcb7ed79">  566</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a1994b1320175a2087aa387c0bcb7ed79">createConnectedBuffer</a>(uint32 swapIdx, GraphicsContext&amp; ctx, types::MapBufferFlags mapDefaultFlags = types::MapBufferFlags::Write)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a1994b1320175a2087aa387c0bcb7ed79">createConnectedBuffer</a>(swapIdx, ctx, _bufferBindingUse, mapDefaultFlags);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0cfac282dde8fa696b32b4369e14fb6a">  581</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0cfac282dde8fa696b32b4369e14fb6a">createConnectedBuffer</a>(uint32 swapIdx, GraphicsContext&amp; ctx, types::BufferBindingUse bufferAllowedUses,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                               types::MapBufferFlags mapDefaultFlags = types::MapBufferFlags::Write)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        _connectedBufferDefaultFlags = mapDefaultFlags;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        _connectedBufferDefaultOffset = 0;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordtype">bool</span> isMappable = mapDefaultFlags != types::MapBufferFlags::None;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        _connectedBuffers[swapIdx] = <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ad1a79572349b830d0f249d9e2f4543d9">createBufferAsTemplate</a>(ctx, bufferAllowedUses, isMappable);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ad1a79572349b830d0f249d9e2f4543d9">  595</a></span>&#160;    api::BufferView <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ad1a79572349b830d0f249d9e2f4543d9">createBufferAsTemplate</a>(GraphicsContext&amp; ctx, <span class="keywordtype">bool</span> mappable = <span class="keyword">true</span>)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ad1a79572349b830d0f249d9e2f4543d9">createBufferAsTemplate</a>(ctx, _bufferBindingUse, mappable);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af8f62d46c54525339691b001183025ed">  607</a></span>&#160;    api::BufferView <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af8f62d46c54525339691b001183025ed">createBufferAsTemplate</a>(GraphicsContext&amp; ctx, types::BufferBindingUse bufferAllowedUses, <span class="keywordtype">bool</span> mappable = <span class="keyword">true</span>)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">if</span> (bufferAllowedUses != _bufferBindingUse)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            validateBufferUsage(bufferAllowedUses);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            calculateStructureSizes(calculateBufferDynamicAlignment(bufferAllowedUses));</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keyword">auto</span> buffer = ctx-&gt;createBuffer(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a93aad09db99e4e54536e155116be6c88">getAlignedTotalSize</a>(), _bufferBindingUse, mappable);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">return</span> ctx-&gt;createBufferView(buffer, 0, <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>());</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a3fc90e44c849c6d8478d399e8381bc40">  637</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a3fc90e44c849c6d8478d399e8381bc40">finalize</a>(<span class="keyword">const</span> GraphicsContext&amp; context, uint32 elementCount, types::BufferBindingUse bufferAllowedUses,</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordtype">bool</span> allowedUboDynamic = <span class="keyword">false</span>, <span class="keywordtype">bool</span> allowedSsboDynamic = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        assertion(!<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must not already be finalized.&quot;</span>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        assertion(elementCount != 0, <span class="stringliteral">&quot;Element count must not be 0&quot;</span>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        _elementCount = elementCount;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        _minUboDynamicAlignment = 0;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        _minSsboDynamicAlignment = 0;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">if</span> (static_cast&lt;pvr::uint32&gt;(bufferAllowedUses &amp; types::BufferBindingUse::UniformBuffer) != 0 &amp;&amp; allowedUboDynamic)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            _minUboDynamicAlignment = context-&gt;getApiCapabilities().uboDynamicOffsetAlignment();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">if</span> (static_cast&lt;pvr::uint32&gt;(bufferAllowedUses &amp; types::BufferBindingUse::StorageBuffer) != 0 &amp;&amp; allowedSsboDynamic)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            _minSsboDynamicAlignment = context-&gt;getApiCapabilities().ssboDynamicOffsetAlignment();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="comment">// check whether allow dynamic ubo and ubo</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        assertion(!allowedUboDynamic || (allowedUboDynamic &amp;&amp; (static_cast&lt;pvr::uint32&gt;(bufferAllowedUses &amp; types::BufferBindingUse::UniformBuffer) != 0)),</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                  <span class="stringliteral">&quot;A dynamic buffer can only be a Uniform or Storage buffer.&quot;</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="comment">// check whether allow dynamic ubo and ssbo</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        assertion(!allowedSsboDynamic || (allowedSsboDynamic &amp;&amp; (static_cast&lt;pvr::uint32&gt;(bufferAllowedUses &amp; types::BufferBindingUse::StorageBuffer) != 0)),</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                  <span class="stringliteral">&quot;A dynamic buffer can only be a Uniform or Storage buffer.&quot;</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        calculateStructureSizes(calculateBufferDynamicAlignment(bufferAllowedUses));</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        _bufferBindingUse = bufferAllowedUses;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        _finalized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">  671</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">return</span> _finalized;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c4248f296357eda1d026f7a9952d54e">  679</a></span>&#160;    api::BufferView <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c4248f296357eda1d026f7a9952d54e">getConnectedBuffer</a>(uint32 swapIdx)<span class="keyword"> const</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">return</span> _connectedBuffers[swapIdx];</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a335fe2834c3c3b5cde440d81f42dd52d">  692</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a335fe2834c3c3b5cde440d81f42dd52d">map</a>(uint32 swapIdx, types::MapBufferFlags flags = types::MapBufferFlags::Write, uint32 offset = 0xFFFFFFFFu)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af99c3b6f92ba47ebe982f006d4b351b6">mapMultipleArrayElements</a>(swapIdx, 0, _elementCount, flags, offset);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0bbd2a5b4d95c7c10c75d346fe4a10aa">  700</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0bbd2a5b4d95c7c10c75d346fe4a10aa">isMapped</a>(uint32 swapIdx)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">return</span> _connectedBuffers[swapIdx]-&gt;isMapped();</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af99c3b6f92ba47ebe982f006d4b351b6">  716</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af99c3b6f92ba47ebe982f006d4b351b6">mapMultipleArrayElements</a>(uint32 swapIdx, uint32 arrayStartIndex, uint32 numElementsToMap,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                  types::MapBufferFlags flags = types::MapBufferFlags::Write, uint32 offset = 0xFFFFFFFFu)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        flags = (flags == types::MapBufferFlags(0xFFFFFFFFu) ? _connectedBufferDefaultFlags : flags);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        offset = (offset == 0xFFFFFFFFu ? _connectedBufferDefaultOffset : offset);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        _aliasedMemory = _connectedBuffers[swapIdx]-&gt;map(flags, offset + arrayStartIndex * <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>(),</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                         <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">getAlignedElementSize</a>() * numElementsToMap);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af3ceb2251117e56edf83da1c58760f32">  733</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af3ceb2251117e56edf83da1c58760f32">mapArrayIndex</a>(uint32 swapIdx, uint32 arrayIndex = 0, types::MapBufferFlags flags = types::MapBufferFlags::Write)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#af99c3b6f92ba47ebe982f006d4b351b6">mapMultipleArrayElements</a>(swapIdx, arrayIndex, 1, flags);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aa9bd065d79395966255e04be38168e04">  742</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aa9bd065d79395966255e04be38168e04">unmap</a>(uint32 swapIdx)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        _connectedBuffers[swapIdx]-&gt;unmap();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        _aliasedMemory = NULL;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aab54b1da0a040041b9ffb95320a95aab">  751</a></span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#aab54b1da0a040041b9ffb95320a95aab">getMemoryPointer</a>()</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">return</span> _aliasedMemory;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a3571efe0221afe7c1b34584bbfc37f4f">  759</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a3571efe0221afe7c1b34584bbfc37f4f">getMemoryPointer</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        assertion(<a class="code" href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">isFinalized</a>(), <span class="stringliteral">&quot;Structured memory view must be finalized.&quot;</span>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="keywordflow">return</span> _aliasedMemory;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;};</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="keyword">typedef</span> StructuredBufferView StructuredMemoryView;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a0cea9f58b393a6a8716a0910cb9228cb"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0cea9f58b393a6a8716a0910cb9228cb">pvr::utils::StructuredBufferView::getDynamicOffset</a></div><div class="ttdeci">uint32 getDynamicOffset(uint32 variableIndex, uint32 dynamicIndex, uint32 entryArrayIndex=0) const </div><div class="ttdoc">For a dynamic buffer or an array of structs buffer, get the byte offset from the start of the buffer...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:470</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a26f87d9a136bf85335cc9140f2baa83b"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a26f87d9a136bf85335cc9140f2baa83b">pvr::utils::StructuredBufferView::getOffset</a></div><div class="ttdeci">uint32 getOffset(uint32 variableIndex, uint32 entryArrayIndex=0) const </div><div class="ttdoc">Get the byte offset of the specified variable by entry index</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:444</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a0bbd2a5b4d95c7c10c75d346fe4a10aa"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0bbd2a5b4d95c7c10c75d346fe4a10aa">pvr::utils::StructuredBufferView::isMapped</a></div><div class="ttdeci">bool isMapped(uint32 swapIdx)</div><div class="ttdoc">Return true if it is already mapped for a given swapchain index.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:700</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a72590090482e9b08dce38672b4b4756a"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a72590090482e9b08dce38672b4b4756a">pvr::utils::StructuredBufferView::StructuredBufferView</a></div><div class="ttdeci">StructuredBufferView()</div><div class="ttdoc">Ctor. Creates an empty StructuredBufferView.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:118</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_aeba1fbd6b8e7286d1006cd3f2813a5e4"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#aeba1fbd6b8e7286d1006cd3f2813a5e4">pvr::utils::StructuredBufferView::getDynamicOffset</a></div><div class="ttdeci">uint32 getDynamicOffset(const StringHash &amp;variableName, uint32 dynamicIndex, uint32 entryArrayIndex=0) const </div><div class="ttdoc">For a dynamic buffer or an array of structs buffer, get the byte offset from the start of the buffer...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:457</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a335fe2834c3c3b5cde440d81f42dd52d"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a335fe2834c3c3b5cde440d81f42dd52d">pvr::utils::StructuredBufferView::map</a></div><div class="ttdeci">void map(uint32 swapIdx, types::MapBufferFlags flags=types::MapBufferFlags::Write, uint32 offset=0xFFFFFFFFu)</div><div class="ttdoc">Map the buffer connected to the specified swap index. After performing this operation, the setValue(...) setArrayValue(...) and similar commands become valid and actually set values on the buffer. Maps the entire buffer.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:692</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a2214fe4b869b7717b35710b988b6cea3"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2214fe4b869b7717b35710b988b6cea3">pvr::utils::StructuredBufferView::isFinalized</a></div><div class="ttdeci">bool isFinalized() const </div><div class="ttdoc">Gets whether the structured memory view has been finalized.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:671</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_af8f62d46c54525339691b001183025ed"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#af8f62d46c54525339691b001183025ed">pvr::utils::StructuredBufferView::createBufferAsTemplate</a></div><div class="ttdeci">api::BufferView createBufferAsTemplate(GraphicsContext &amp;ctx, types::BufferBindingUse bufferAllowedUses, bool mappable=true)</div><div class="ttdoc">Using this object as a template, create a buffer suitable for exactly holding the information represe...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:607</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_aa9bd065d79395966255e04be38168e04"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#aa9bd065d79395966255e04be38168e04">pvr::utils::StructuredBufferView::unmap</a></div><div class="ttdeci">void unmap(uint32 swapIdx)</div><div class="ttdoc">Unmap the mapped buffer at a specified swap index. After calling this function, calling setValue() is...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:742</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a4d9b79e866befe84eb04e16a6eb21d75"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a4d9b79e866befe84eb04e16a6eb21d75">pvr::utils::StructuredBufferView::getElementCount</a></div><div class="ttdeci">uint32 getElementCount() const </div><div class="ttdoc">Get number of array or dynamic buffer elements</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:178</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_aaf37e669f0ac851df24b242821b7c9e5"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#aaf37e669f0ac851df24b242821b7c9e5">pvr::utils::StructuredBufferView::getVariableList</a></div><div class="ttdeci">const std::vector&lt; StructuredMemoryTableEntry &gt; &amp; getVariableList() const </div><div class="ttdoc">Get the full variable entry list in raw format. Const overload.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:379</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a93aad09db99e4e54536e155116be6c88"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a93aad09db99e4e54536e155116be6c88">pvr::utils::StructuredBufferView::getAlignedTotalSize</a></div><div class="ttdeci">uint32 getAlignedTotalSize() const </div><div class="ttdoc">Get the total size of the buffer, padded for alignement.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:171</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html">pvr::utils::StructuredBufferView</a></div><div class="ttdoc">A structured buffer view is a class that can be used to define an explicit structure to an object tha...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:68</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_ad1a79572349b830d0f249d9e2f4543d9"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#ad1a79572349b830d0f249d9e2f4543d9">pvr::utils::StructuredBufferView::createBufferAsTemplate</a></div><div class="ttdeci">api::BufferView createBufferAsTemplate(GraphicsContext &amp;ctx, bool mappable=true)</div><div class="ttdoc">Using this object as a template, create a buffer suitable for exactly holding the information represe...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:595</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a95d7d484c504388d8bbf6fde1b1fe900"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a95d7d484c504388d8bbf6fde1b1fe900">pvr::utils::StructuredBufferView::createConnectedBuffers</a></div><div class="ttdeci">void createConnectedBuffers(uint32 numberOfSwapIdxs, GraphicsContext &amp;ctx, types::MapBufferFlags mapDefaultFlags=types::MapBufferFlags::Write)</div><div class="ttdoc">Using the structure of this object as a template, create a set of buffers suitable for its contents...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:532</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a8943b677ab04c5e7de6768bb206afcab"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a8943b677ab04c5e7de6768bb206afcab">pvr::utils::StructuredBufferView::connectWithBuffer</a></div><div class="ttdeci">void connectWithBuffer(uint32 swapIdx, const api::BufferView &amp;buffer, types::MapBufferFlags mapDefaultFlags=types::MapBufferFlags::Write, uint32 mapDefaultOffset=0)</div><div class="ttdoc">Connect a buffer to this object, so that the methods map... setValue... unMap... be called directly...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:510</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a3571efe0221afe7c1b34584bbfc37f4f"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a3571efe0221afe7c1b34584bbfc37f4f">pvr::utils::StructuredBufferView::getMemoryPointer</a></div><div class="ttdeci">const void * getMemoryPointer() const </div><div class="ttdoc">Returns the pointer to which any setValue...(...) operation called will be writing to...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:759</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a9cf966c08e1e94a3059c23564a577034"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a9cf966c08e1e94a3059c23564a577034">pvr::utils::StructuredBufferView::getMultibufferCount</a></div><div class="ttdeci">uint32 getMultibufferCount()</div><div class="ttdoc">Get the number of connected buffers.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:139</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a838a2001625761e79678cece0342b1f2"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a838a2001625761e79678cece0342b1f2">pvr::utils::StructuredBufferView::isMultiBuffered</a></div><div class="ttdeci">bool isMultiBuffered()</div><div class="ttdoc">Check if the connected buffer is a multibuffered object.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:126</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_ace48180ff8c81e7732ddcd4b0ba3a40d"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#ace48180ff8c81e7732ddcd4b0ba3a40d">pvr::utils::StructuredBufferView::setMultibufferCount</a></div><div class="ttdeci">void setMultibufferCount(uint32 size)</div><div class="ttdoc">Set the connected buffers as a multibuffered object</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:130</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a2d080cf787a9e0fdad78e5e35bfd463b"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2d080cf787a9e0fdad78e5e35bfd463b">pvr::utils::StructuredBufferView::getVariableList</a></div><div class="ttdeci">std::vector&lt; StructuredMemoryTableEntry &gt; &amp; getVariableList()</div><div class="ttdoc">Get the full variable entry list in raw format. Non-const overload.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:382</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_ac3211e154516559bf4253cedb5fd7c9f"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#ac3211e154516559bf4253cedb5fd7c9f">pvr::utils::StructuredBufferView::getAlignedElementSize</a></div><div class="ttdeci">uint32 getAlignedElementSize() const </div><div class="ttdoc">Get the aligned size of an single element. &quot;Aligned&quot; here means the space that each element of this b...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:156</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_ae813fb480f1f4e5ed693f3a5ec09fe4c"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#ae813fb480f1f4e5ed693f3a5ec09fe4c">pvr::utils::StructuredBufferView::getUnalignedElementSize</a></div><div class="ttdeci">uint32 getUnalignedElementSize() const </div><div class="ttdoc">Get the (unaligned) size of an single element. &quot;Element&quot; here means an entire definition of the buffe...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:145</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_afff6421d697e929a0c6ae66b45c84873"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#afff6421d697e929a0c6ae66b45c84873">pvr::utils::StructuredBufferView::addEntriesPacked</a></div><div class="ttdeci">void addEntriesPacked(const std::pair&lt; StringHash, types::GpuDatatypes::Enum &gt; *const entries, pvr::uint32 numEntries)</div><div class="ttdoc">Add multiple entries to the end of the list, in order, each packed on the minimum valid offset that t...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:427</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a3fc90e44c849c6d8478d399e8381bc40"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a3fc90e44c849c6d8478d399e8381bc40">pvr::utils::StructuredBufferView::finalize</a></div><div class="ttdeci">void finalize(const GraphicsContext &amp;context, uint32 elementCount, types::BufferBindingUse bufferAllowedUses, bool allowedUboDynamic=false, bool allowedSsboDynamic=false)</div><div class="ttdoc">Call this function in order to set this object up properly to represent an array of elements...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:637</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_abd8bb23c7be7bc35fe6a1677d49aaaf6"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#abd8bb23c7be7bc35fe6a1677d49aaaf6">pvr::utils::StructuredBufferView::createConnectedBuffers</a></div><div class="ttdeci">void createConnectedBuffers(uint32 numberOfSwapIdxs, GraphicsContext &amp;ctx, types::BufferBindingUse bufferAllowedUses, types::MapBufferFlags mapDefaultFlags=types::MapBufferFlags::Write)</div><div class="ttdoc">Using the structure of this object as a template, create a set of buffers suitable for its contents...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:546</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_af3ceb2251117e56edf83da1c58760f32"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#af3ceb2251117e56edf83da1c58760f32">pvr::utils::StructuredBufferView::mapArrayIndex</a></div><div class="ttdeci">void mapArrayIndex(uint32 swapIdx, uint32 arrayIndex=0, types::MapBufferFlags flags=types::MapBufferFlags::Write)</div><div class="ttdoc">Map multiple a single array/dynamic element of the buffer connected to the specified swap index...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:733</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_af1da195bb183b7df2cb6db72e287b7f6"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#af1da195bb183b7df2cb6db72e287b7f6">pvr::utils::StructuredBufferView::getOffset</a></div><div class="ttdeci">uint32 getOffset(const StringHash &amp;name, uint32 entryArrayIndex=0) const </div><div class="ttdoc">Get the byte offset of the specified variable by name</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:437</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a0cfac282dde8fa696b32b4369e14fb6a"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a0cfac282dde8fa696b32b4369e14fb6a">pvr::utils::StructuredBufferView::createConnectedBuffer</a></div><div class="ttdeci">void createConnectedBuffer(uint32 swapIdx, GraphicsContext &amp;ctx, types::BufferBindingUse bufferAllowedUses, types::MapBufferFlags mapDefaultFlags=types::MapBufferFlags::Write)</div><div class="ttdoc">Using the structure of this object as a template, create a buffer suitable for its contents...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:581</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a1994b1320175a2087aa387c0bcb7ed79"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a1994b1320175a2087aa387c0bcb7ed79">pvr::utils::StructuredBufferView::createConnectedBuffer</a></div><div class="ttdeci">void createConnectedBuffer(uint32 swapIdx, GraphicsContext &amp;ctx, types::MapBufferFlags mapDefaultFlags=types::MapBufferFlags::Write)</div><div class="ttdoc">Using the structure of this object as a template, create a buffer suitable for its contents...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:566</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a556d1602aba1f17b1807dfaa34f43790"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a556d1602aba1f17b1807dfaa34f43790">pvr::utils::StructuredBufferView::pointToMemory</a></div><div class="ttdeci">void pointToMemory(void *memoryToPointTo)</div><div class="ttdoc">Instead of connecting this object to an actual buffer, directly provide a pointer to some kind of mem...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:489</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a7c4248f296357eda1d026f7a9952d54e"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c4248f296357eda1d026f7a9952d54e">pvr::utils::StructuredBufferView::getConnectedBuffer</a></div><div class="ttdeci">api::BufferView getConnectedBuffer(uint32 swapIdx) const </div><div class="ttdoc">Get the connected buffer for the specified swap index.</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:679</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a98d84adbb33049a165ad4139f59cc776"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a98d84adbb33049a165ad4139f59cc776">pvr::utils::StructuredBufferView::addEntryPacked</a></div><div class="ttdeci">uint32 addEntryPacked(const StringHash &amp;name, types::GpuDatatypes::Enum type, uint32 arrayElements=1)</div><div class="ttdoc">Add an entry to the end of the list, packed on the minimum valid offset that the specified packing st...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:414</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_aab54b1da0a040041b9ffb95320a95aab"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#aab54b1da0a040041b9ffb95320a95aab">pvr::utils::StructuredBufferView::getMemoryPointer</a></div><div class="ttdeci">void * getMemoryPointer()</div><div class="ttdoc">Returns the pointer to which any setValue...(...) operation called will be writing to...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:751</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_af99c3b6f92ba47ebe982f006d4b351b6"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#af99c3b6f92ba47ebe982f006d4b351b6">pvr::utils::StructuredBufferView::mapMultipleArrayElements</a></div><div class="ttdeci">void mapMultipleArrayElements(uint32 swapIdx, uint32 arrayStartIndex, uint32 numElementsToMap, types::MapBufferFlags flags=types::MapBufferFlags::Write, uint32 offset=0xFFFFFFFFu)</div><div class="ttdoc">Map multiple consecutive array/dynamic elements of the buffer connected to the specified swap index...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:716</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a2c1f4f9d4fa99051d61fc680340b95a6"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a2c1f4f9d4fa99051d61fc680340b95a6">pvr::utils::StructuredBufferView::addEntryAtOffset</a></div><div class="ttdeci">uint32 addEntryAtOffset(const StringHash &amp;name, types::GpuDatatypes::Enum type, uint32 offset, uint32 arrayElements=1)</div><div class="ttdoc">Add a variable entry to the specified byte offset of the buffer. Order is implicit based on the offse...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:393</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_abea7c4481bf9ea2993b88638d13c5dfb"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#abea7c4481bf9ea2993b88638d13c5dfb">pvr::utils::StructuredBufferView::getAlignedElementArrayOffset</a></div><div class="ttdeci">uint32 getAlignedElementArrayOffset(uint32 index) const </div><div class="ttdoc">Gets the offset of an element (a dynamic &quot;slice&quot; or array element) of the buffer. Same as getAlignedE...</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:164</div></div>
<div class="ttc" id="classpvr_1_1utils_1_1_structured_buffer_view_html_a7c876f548186b035f0882e86c853b4c7"><div class="ttname"><a href="classpvr_1_1utils_1_1_structured_buffer_view.html#a7c876f548186b035f0882e86c853b4c7">pvr::utils::StructuredBufferView::getIndex</a></div><div class="ttdeci">uint32 getIndex(const StringHash &amp;name) const </div><div class="ttdoc">Retrieve the index of a variable entry by its name</div><div class="ttdef"><b>Definition:</b> StructuredMemory.h:478</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part (NON TREEVIEW ONLY!!) -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="FooterMainContainer">
	<div id="FooterContainer">
		<div class="footerlogo">
			<a href="http://www.imgtec.com" target="_blank"><img src="img-footer-logo-grey.png" width="100%" height="100%" border="none" /></a>
		</div>
		<div class="copyright"><p>&copy; Imagination Technologies Limited<br> All rights reserved</p></div>
	</div>
</div>
</body>
</html>
